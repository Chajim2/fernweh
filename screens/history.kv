#:import Window kivy.core.window.Window
#:import PRIMARY utils.loading.PRIMARY
#:import SECONDARY utils.loading.SECONDARY
#:import ACCENT utils.loading.ACCENT
#:import TEXT utils.loading.TEXT
#:import dp kivy.metrics.dp 

<PostPanel>: # Add this if you want to style PostPanel via KV
    # Example: Set default panel_color here if desired
    # panel_color: 1, 1, 1, 0.1

<HistoryConstructor>:
    orientation: 'vertical'
    padding: dp(20) # Use dp consistently
    spacing: dp(10)

    canvas.before:
        Color:
            rgba: PRIMARY
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)
        spacing: dp(15)
        # Removed canvas here as the parent already has PRIMARY bg

        Label:
            text: 'your past entries'
            size_hint_y: None # Fix height instead of relying on size_hint
            height: dp(40) # Example fixed height
            font_name: 'Bold'
            # font_size: self.height * 0.5 # font_size based on fixed height is better
            font_size: dp(20) # Example fixed font size
            color: TEXT

        ScrollView:
            id: main_scroll
            size_hint_y: 0.8 # Keep this relative size
            do_scroll_x: False
            bar_width: dp(10) # Optional: make scrollbar visible

            BoxLayout:
                id: entries_container
                orientation: "vertical"
                spacing: dp(10)
                padding: dp(10)
                size_hint_y: None
                height: self.minimum_height
                # No specific alignment needed here, children control their pos_hint

        Button:
            text: 'back to home'
            size_hint_y: None # Fix height
            height: dp(50) # Example fixed height
            background_color: ACCENT
            color: TEXT
            font_name: "Regular"
            font_size: dp(16) # Example fixed font size
            on_press: root.go_home()

<HistoryScreen>:
    name: 'history' # Good practice to name screens
    HistoryConstructor:
        id: history_constructor # Give it an id if needed