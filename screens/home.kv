#:import Window kivy.core.window.Window
#:import PRIMARY utils.loading.PRIMARY
#:import SECONDARY utils.loading.SECONDARY
#:import ACCENT utils.loading.ACCENT
#:import TEXT utils.loading.TEXT

<HomeConstructor>:
    orientation: 'vertical'
    padding: 20
    spacing: 10
    
    canvas.before:
        Color:
            rgba: PRIMARY
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        size_hint_y: 0.1
        orientation: 'horizontal'
        
        Widget:
            size_hint_x: 0.8
            
        Button:
            text: 'logout'
            size_hint: (0.2, 0.8)
            pos_hint: {'center_y': 0.5}
            background_color: 0, 0, 0, 0
            canvas.before:
                Color:
                    rgba: PRIMARY
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [15, 15, 15, 15]
                Color:
                    rgba: ACCENT
                Line:
                    width: 2
                    rounded_rectangle: (self.x, self.y, self.width, self.height, 15, 15)
            font_size: self.height * 0.4
            color: TEXT
            font_name: "Regular"
            on_press: root.logout()

    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.9
        padding: 20
        spacing: 15
        canvas.before:
            Color:
                rgba: PRIMARY
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [15, 15, 15, 15]

        Label:
            text: 'dont you dare go hollow'
            size_hint_y: 0.2
            font_name: 'Bold'
            font_size: min(self.width * 0.8, self.height * 0.1)
            color: TEXT

        Button:
            font_size: self.height * 0.15
            text: 'new diary entry'
            size_hint_y: 0.1
            size_hint_x: 0.6
            pos_hint: {'center_x': 0.5}
            background_color: 0, 0, 0, 0  # Transparent background
            canvas.before:
                Color:
                    rgba: PRIMARY
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [15, 15, 15, 15]
                Color:
                    rgba: ACCENT
                Line:
                    width: 2
                    rounded_rectangle: (self.x, self.y, self.width, self.height, 15, 15)
            color: TEXT
            font_name: "Regular"
            on_press: root.go_to_diary()
        Widget:
            size_hint_y: 0.01
        Button:
            text: 'view past entries'
            size_hint_y: 0.1
            size_hint_x: 0.6
            pos_hint: {'center_x': 0.5}
            background_color: 0, 0, 0, 0  # Transparent background
            canvas.before:
                Color:
                    rgba: PRIMARY
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [15, 15, 15, 15]
                Color:
                    rgba: ACCENT
                Line:
                    width: 2
                    rounded_rectangle: (self.x, self.y, self.width, self.height, 15, 15)
            font_size: self.height * 0.15
            color: TEXT
            font_name: "Regular"
            on_press: root.go_to_history()
        Widget:
            size_hint_y: 0.01
        Button:
            text: 'profile'
            size_hint_y: 0.1
            size_hint_x: 0.6
            pos_hint: {'center_x': 0.5}
            background_color: 0, 0, 0, 0
            canvas.before:
                Color:
                    rgba: PRIMARY
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [15, 15, 15, 15]
                Color:
                    rgba: ACCENT
                Line:
                    width: 2
                    rounded_rectangle: (self.x, self.y, self.width, self.height, 15, 15)
            font_size: self.height * 0.15
            color: TEXT
            font_name: "Regular"
            on_press: root.go_to_profile()

<HomeScreen>:
    HomeConstructor: 